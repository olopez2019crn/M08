<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="css.css">
  <link rel="stylesheet" href="play.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc025B46JvROS7bZs3I02EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <title>World Music</title>
</head>
<body>

  <div id="barra">. <img id="destacat" src="img/logo.png"></div>
  <div class="greenline"></div>


  <div id="menu">
    <ul>
      <li class="colormenu">Descubre</li>
      <li class="colormenu">Canciones</li>
      <li class="colormenu">Favoritos</li>
      <li class="colormenu">Archivos Locales</li>
    </ul>
  </div>



  <!--Linea de tiempo y controles



  <div id="play">
    <ul id="barracontrol">
      <li> <img src="img/icon/anterior.png"></li>
      <li> <img src="img/icon/play.png"></li>
      <li> <img src="img/icon/siguiente.png"></li>
      <li> <img src="img/icon/alt.png"></li>
    </ul>
  </div>
-->







  <!-- Listado musical

  <div id="song"></div>


  <div id="llistasong"></div>

-->





<!-- REPRODUCTOR -->

  <div id="container">
    <div id="container-top">
      <img src="" />
    </div>

  <div id="container-bottom">
    <h3 id="songName">Song name</h3>
    <h4 id="songArtist">Song Artist</h4>
          <div id="btns">
            <button id="backward" onclick="pre()"><i class="fas fa-backward"></i></button>
            <button id="play" onclick="playPause()"><i class="fas fa-pause"></i></button>
            <button id="forward" onclick="next()"><i class="fas fa-forward"></i></button>
          </div>

      <div id="timeNow">00:00 / 00:00</div>
      <div id="durationBar">
        <div id="expandingBar"></div>
        <div id="movingBar"></div>

      </div>
    </div>
  </div>








<!-- JAVASCRIPT -->


  <script type="text/javascript">

    var songs = ["music/lilgz.mp3", "music/bejito.mp3", "music/donpatricio.mp3"]
    var songNames = ["WEAH", "Dora la exploradora", "Contando lunares"]
    var artist = ["Lil GZ", "BEJO", "Don Patricio"]


    var SongName = document.getElementById("songName");
    var songArtist = document.getElementById("songArtist");
    var expandingBar = document.getElementById("expandingBar");
    var timeNow = document.getElementById("timeNow");


    var song = new Audio();
    var currentSong = 0;
    window.onload = playSong;


    function playSong(){
      song.src = songs[currentSong];
      songName.textContent = songNames[currentSong];
      songArtist.textContent = artist[currentSong];
      song.play();
    }

    function playPause(){
      if(song.paused){
        song.play();
        $("#play i").removeClass("fa-play").addClass("fa-pause");
      }
      else {
        song.pause();
        $("#play i").removeClass("fa-pause").addClass("fa-play");
      }
    }

    song.addEventListener('timeupdate', function(){
      var position = song.currentTime / song.duration;
      convertTime(Math.round(song.currentTime));
      if(song.ended){
        next();
      }
    });


    function convertTime(seconds){
      var min = Math.floor(seconds / 60);
      var sec = seconds % 60;
      min = (min < 10) ? "0" + min : min;
      sec = (sec < 10) ? "0" + sec : sec;
      timeNow.textContent = min + ":" + sec;

      totalTime(Math.round(song.duration));
    }


    function totalTime(seconds){
      var min = Math.floor(seconds / 60);
      var sec = seconds % 60;
      min = (min < 10) ? "0" + min : min;
      sec = (sec < 10) ? "0" + sec : sec;
      timeNow.textContent += " / " + min + ":" + sec;

    }

    function next(){
      currentSong++;
      if(currentSong > 2){
        currentSong = 0;
      }
      playSong();
        $("#play i").removeClass("fa-play").addClass("fa-pause");
        $("#container-top img").attr("src",poster[currentSong]);
      }

      function pre(){
        currentSong--;
        if (currentSong < 0){
          currentSong = 2;
        }
        playSong();
        $("#play i").removeClass("fa-play").addClass("fa-pause");
        $("#container-top img").attr("src",poster[currentSong]);
      }




  </script>

</body>
</html>


<!--
<audio controls="controls">
  <source src="track.ogg" type="audio/ogg"> FIREFOX
  <source src="track.mp3" type="audio/mpeg">
</audio>
-->
